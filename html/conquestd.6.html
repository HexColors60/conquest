
<!--
  $Id: conquestd.man 576 2006-08-20 05:51:33Z jon $
 
-->
<!-- manual page source format generated by PolyglotMan v3.0.8+X.Org, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>"conquestd"(6) manual page</title>
</head>
<body bgcolor='#efefef' text='black' link='blue' vlink='#551A8B' alink='red'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
conquestd - a Conquest game server 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
<p>
<b>conquestd</b> [OPTIONS] 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<p>
<b>conquestd</b>
is a game server for Conquest.  Clients, such as <b>conquestgl</b> and <b>conquest</b>
are used to connect to a <b>conquestd</b> server to play the game. 
<h2><a name='sect3' href='#toc3'>Options</a></h2>
<p>

<dl>

<dt><b>-d </b> </dt>
<dd>Daemon
mode.   </dd>

<dt><b>-l</b> </dt>
<dd>Listen for local connections only.  When this option is supplied,
only clients on the local host will be able to connect. </dd>

<dt><b>-p &lt;port&gt;</b> </dt>
<dd>Listen for
game connnections on port <i>port</i>.  The default port is 1701. </dd>

<dt><b>-m</b> </dt>
<dd>Notify the metaserver
of the presence of your game server.  When this option is specified, <b>conquestd</b>
will notify the meta server (default <i>conquest.radscan.com</i>) of your server,
so that other players can see it in the server list and connect to it. 
Do not use this option if your server is not actually available from the
Internet. </dd>

<dt><b>-M &lt;meta server&gt; </b> </dt>
<dd>Notify <i>meta server</i> instead of the default meta
server running at <i>conquest.radscan.com</i>.  </dd>

<dt><b>-N &lt;my name&gt; </b> </dt>
<dd>Explicitly specify server
name <i>my name</i> to the meta server when announcing your game.  This is useful
if your server is accessed with a different host name internal to your
network, than the host name that an Internet client would need to use to
connect. </dd>

<dt><b>-u &lt;user&gt;</b> </dt>
<dd>Run as user <i>user</i>.  This option is advised when running as
root. It is generally not a good idea to run an Internet accessable game
server as the root user :)  Only the root user can use this option. </dd>
</dl>

<h2><a name='sect4' href='#toc4'>Overview</a></h2>
<p>
With
version 8.0 of Conquest or better, a great deal of work has gone into making
Conquest a true client/server game playable over the Internet (or just
your local LAN). 
<p> Conquest has two main parts, the server component (conquestd)
and the client (OpenGL version: conquestgl, curses version: conquest). 
<p>
To run a server, you must run the conquestd program. 
<p> Clients (including
ones on your local machine) then connect to your server and the game is
played. 
<h2><a name='sect5' href='#toc5'>Setting Up a Server</a></h2>
<p>
<b>conquestd</b> is used to provide a Conquest game.
 Even if all you want to do is play by yourself on your own machine, you
will need to run <b>conquestd</b> in order to play. 
<p> If all you want to do is use
conquest to play on someone else's server, then you do not need to be reading
this document. :) 
<p> In it's simplest (and insecure) form, you can simply run:

<p>        $ conquestd -d<br>

<p> 
<p> This will start <b>conquestd</b>, which will fork itself into the background
and run as your user id. 
<p> It will listen on the default port (1701) for
client connections, and spawn a new <b>conquestd</b> for each client connection.
 It will be available to anyone who can connect to TCP port 1701 on your
machine. 
<p> SECURITY NOTE: I would only run a server this way if no one else
from the Internet will be able to connect (if you are behind a firewall
for example).  This is more INSECURE since <b>conquestd</b> will be running as
your uid.  Read further for a more secure way to run the server. 
<p> To support
internet playes securely, start <b>conquestd</b> as root, and have it run as user
'nobody' by passing the <b>-u nobody</b> option on the command line.  Of course you
can create and use some other non-privileged, non-interactive user for this
task as well. 
<p> Something like the following is a good idea: 
<p>         # conquestd
-d -u nobody<br>

<p> 
<p> This will have <b>conquestd</b> setuid() permanently to user 'nobody' before beginning
operations.  On most unix systems, user 'nobody' has no home directory, password,
or privileges, and therefore is a safe user id to run under. 
<p> You must be
the root user in order to use the '-u' option. 
<p> DO NOT run <b>conquestd</b> as the
root user itself.  Although the code *should* be safe, don't take my word
for it. 
<p> 
<h2><a name='sect6' href='#toc6'>Notifying the Metaserver</a></h2>
<p>
If you are going to run a server that will
be available to the public via the Internet, you should pass the '-m' option
to conquestd when you start it. 
<p> When running with the '-m' option, conquestd
will contact the Conquest Meta Server running at conquest.radscan.com, and
announce your server, so that other people will know about it. 
<p> Every 2
minutes or so, it will update the meta server with various particulars
of your server (like how many players are currently connected, what flags
you support, what your server name, version, and MOTD are, etc). 
<p> This way,
other people can find out about your server and connect to it to play. 
<p>
The list of currently active servers can be seen in the game by running
your client (conquestgl or conquest) with the '-m' flag. 
<p> You can also point
your web browser to: 
<p>      <a href='http://radscan.com/cgi-bin/conqmeta.pl'><i>http://radscan.com/cgi-bin/conqmeta.pl</i></a>
<br>

<p> 
<p> If you want to be primitive, you can see the current list of servers
in raw format by simply: 
<p>      telnet conquest.radscan.com 1700<br>

<p> 
<p> Of course, please make sure that your server is actually reachable from
the Internet before notifying the Meta server. 
<p> 
<h2><a name='sect7' href='#toc7'>Firewall Considerations</a></h2>
<p>
Most
people that will run a server (or client) will also be using a firewall
of some sort to protect their networks. 
<p> Inbound access: 
<p> If you wish to
allow internet access to your server, you will need to allow inbound TCP
_and_ UDP access to the game port (1701 by default). 
<p> Outbound access: 
<p>
If you restrict outbound internet connections, you might want to allow
the following outgoing ports: 
<p> 1700/tcp - if you want clients to be able
to query the metaserver for active servers. 
<p> 1700/udp - if you want your
own server to be able to announce it's availability to the metaserver at
conquest.radscan.com. 
<h2><a name='sect8' href='#toc8'>Expiring Users</a></h2>
<p>
By default, whenever a user logs into
Conquest, an autoexpire is run to locate and 'resign' all inactive remote
users. 
<p> A user is expired:  
<p> A) if the user is a non OPER or non robot user
- no expiration is ever done on these users. 
<p> B) the user hasn't entered the
game in 'user_expiredays' days, which is set in the system-wide conquestrc
file. 
<p> C) the user isn't currently flying a ship. 
<p> If all of these conditions
are met, the remote user is resigned from the game. 
<p> You can disable user
expiration altogether by setting user_expiredays to 0. 
<p> You can configure
this in the (O)ptions menu in <b>conqoper</b>. 
<p> 
<h2><a name='sect9' href='#toc9'>Examples</a></h2>

<dl>

<dt><b>conquestd -d</b> </dt>
<dd>This is <b>conquestd</b>
simplest (and insecure) form.  It kicks off into the background (running
as your UID) and serves a conquest game. </dd>

<dt><b>conquestd -d -u nobody</b> </dt>
<dd>When started
as the root user, this will have <b>conquestd</b> setuid to the user 'nobody' (a
common, unprivileged account on unix systems) and begin serving connections.
 For an Internet accessable server, these are the recommended minimum options
to use. </dd>

<dt><b>conquestd -d -u nobody -l</b> </dt>
<dd>Run the server us user <i>nobody</i>, serving only
local clients. </dd>

<dt><b>conquestd -d -u nobody -m -N conquest.radscan.com</b> </dt>
<dd>Run the server
us user <i>nobody</i>, announcing your server to the conquest meta server, and
tell the meta server that Internet clients should use the hostname <i>conquest.radscan.com</i>
to connect to your server. </dd>
</dl>

<h2><a name='sect10' href='#toc10'>Author</a></h2>
Jon Trulson 
<h2><a name='sect11' href='#toc11'>See Also</a></h2>
<p>
<a href='conquest.6.html'>conquest(6)</a>
, <a href='conquestd.6.html'>conquestd(6)</a>
,
<a href='conqoper.6.html'>conqoper(6)</a>
, <a href='conqdriv.6.html'>conqdriv(6)</a>
, <a href='conquestsh.6.html'>conquestsh(6)</a>
, <a href='conqmetad.6.html'>conqmetad(6)</a>
  <p>
See README in the
conquest distribution (usually installed in &lt;conquest install prefix&gt;/etc/)
for information and tips on how to play.  <p>
See INSTALL for instructions on
unpacking, compiling, and installing conquest, as well as information on
terminfo requirements (for the curses client) and other system specific
issues. <p>
See README.cygwin for information on building/using conquest on MS
Windows systems.  <p>
See HISTORY for the latest news and modification history.
<p>
See CONQINIT.TXT for information on CQI, and the format of the conqinitrc
and texturesrc files. 
<h2><a name='sect12' href='#toc12'>Copyright</a></h2>
<p>
Copyright (C)1994-2006 by Jon Trulson &lt;jon@radscan.com&gt;
under the ARTISTIC License. <p>
Original VAX/VMS Ratfor Conquest: <p>
Copyright
(C)1983-1986 by Jef Poskanzer and Craig Leres.  Permission to use, copy,
modify, and distribute this software and its documentation for any purpose
and without fee is hereby granted, provided that this copyright notice
appear in all copies and in all supporting documentation. Jef Poskanzer
and Craig Leres make no representations about the suitability of this software
for any purpose. It is provided "as is" without express or implied warranty.

<p>
<p> 
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Options</a></li>
<li><a name='toc4' href='#sect4'>Overview</a></li>
<li><a name='toc5' href='#sect5'>Setting Up a Server</a></li>
<li><a name='toc6' href='#sect6'>Notifying the Metaserver</a></li>
<li><a name='toc7' href='#sect7'>Firewall Considerations</a></li>
<li><a name='toc8' href='#sect8'>Expiring Users</a></li>
<li><a name='toc9' href='#sect9'>Examples</a></li>
<li><a name='toc10' href='#sect10'>Author</a></li>
<li><a name='toc11' href='#sect11'>See Also</a></li>
<li><a name='toc12' href='#sect12'>Copyright</a></li>
</ul>
</body>
</html>
